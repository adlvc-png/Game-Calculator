<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formasyon Hesaplayƒ±cƒ±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 15px;
            overflow-x: hidden;
            width: 100%;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            padding: 0 10px;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            color: white;
            width: 100%;
        }

        .header h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            word-wrap: break-word;
        }

        .header p {
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            opacity: 0.9;
            word-wrap: break-word;
        }

        /* Ana Grid */
        .main-grid {
            display: grid;
            grid-template-columns: minmax(300px, 1fr) minmax(400px, 2fr);
            gap: 20px;
            margin-bottom: 25px;
            width: 100%;
        }

        /* Kart Stilleri */
        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            width: 100%;
            max-width: 100%;
        }

        .section-title {
            font-size: clamp(1.2rem, 3vw, 1.4rem);
            color: #2c3e50;
            margin-bottom: 18px;
            text-align: center;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 8px;
            word-wrap: break-word;
        }

        /* Giri≈ü Alanlarƒ± */
        .input-group {
            margin-bottom: 18px;
            width: 100%;
        }

        .input-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #495057;
            font-size: clamp(0.9rem, 2vw, 1rem);
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ced4da;
            border-radius: 6px;
            font-size: clamp(0.9rem, 2vw, 1rem);
            text-align: center;
            max-width: 100%;
        }

        .input-group input:focus, .input-group select:focus {
            border-color: #4CAF50;
            outline: none;
        }

        /* Hƒ±zlƒ± Ayarlar */
        .quick-settings {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 18px;
            border: 2px solid #e9ecef;
            width: 100%;
        }

        .quick-settings-grid {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 12px;
            align-items: end;
            width: 100%;
        }

        .quick-settings-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
            font-size: clamp(0.9rem, 2vw, 1rem);
            grid-column: 1 / -1;
        }

        .btn-small {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            font-size: clamp(0.8rem, 1.8vw, 0.9rem);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #007bff;
            color: white;
            white-space: nowrap;
            min-width: 80px;
        }

        .btn-small:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }

        /* Y√ºzdelik Grid */
        .percentage-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 18px;
            width: 100%;
        }

        .percentage-item {
            text-align: center;
            min-width: 0;
        }

        .percentage-item label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #495057;
            font-size: clamp(0.8rem, 1.8vw, 0.9rem);
        }

        .percentage-item input {
            width: 100%;
            padding: 8px;
            border: 2px solid #ced4da;
            border-radius: 6px;
            text-align: center;
            font-size: clamp(0.8rem, 1.8vw, 0.9rem);
            min-width: 0;
        }

        /* Ekip Kapasite Grid */
        .squad-capacity-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 18px;
            width: 100%;
        }

        .squad-capacity-item {
            text-align: center;
            min-width: 0;
        }

        .squad-capacity-item label {
            display: block;
            margin-bottom: 4px;
            font-weight: 600;
            color: #495057;
            font-size: clamp(0.7rem, 1.6vw, 0.8rem);
            word-wrap: break-word;
        }

        .squad-capacity-item input {
            width: 100%;
            padding: 6px;
            border: 2px solid #ced4da;
            border-radius: 4px;
            text-align: center;
            font-size: clamp(0.7rem, 1.6vw, 0.8rem);
            min-width: 0;
        }

        /* Ekip Grid */
        .squads-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 18px;
            width: 100%;
        }

        .squad-card {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            text-align: center;
            min-width: 0;
            word-wrap: break-word;
        }

        .squad-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
            font-size: clamp(0.7rem, 1.6vw, 0.8rem);
        }

        .squad-numbers {
            font-size: clamp(0.65rem, 1.4vw, 0.7rem);
            color: #6c757d;
            line-height: 1.3;
            word-wrap: break-word;
        }

        .squad-total {
            font-weight: 600;
            color: #2c3e50;
            margin-top: 6px;
            font-size: clamp(0.7rem, 1.6vw, 0.8rem);
            padding-top: 4px;
            border-top: 1px solid #dee2e6;
        }

        /* Sonu√ßlar */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 18px;
            width: 100%;
        }

        .result-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            text-align: center;
            min-width: 0;
        }

        .result-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 6px;
            font-size: clamp(0.7rem, 1.6vw, 0.8rem);
        }

        .result-value {
            font-size: clamp(0.9rem, 2vw, 1rem);
            font-weight: 700;
        }

        .positive {
            color: #28a745;
        }

        .negative {
            color: #dc3545;
        }

        /* Butonlar */
        .action-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 18px;
            width: 100%;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: clamp(0.9rem, 2vw, 1rem);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
            flex: 1;
            max-width: 200px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #5a6268);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
        }

        /* Bilgi Kutusu */
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 18px;
            font-size: clamp(0.8rem, 1.8vw, 0.9rem);
            width: 100%;
            word-wrap: break-word;
        }

        .total-capacity-box {
            background: #e8f5e8;
            border-left: 4px solid #4CAF50;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 18px;
            text-align: center;
            font-weight: 600;
            font-size: clamp(0.9rem, 2vw, 1rem);
            width: 100%;
        }

        /* Scrollbar d√ºzenlemesi */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Responsive D√ºzenlemeler */
        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .squads-grid,
            .squad-capacity-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 992px) {
            .container {
                padding: 0 8px;
            }
            
            .card {
                padding: 15px;
            }
            
            .squads-grid,
            .squad-capacity-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .percentage-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .percentage-item:last-child {
                grid-column: 1 / -1;
                max-width: 200px;
                margin: 0 auto;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 0 5px;
            }
            
            .main-grid {
                gap: 12px;
            }
            
            .card {
                padding: 12px;
                border-radius: 8px;
            }
            
            .squads-grid,
            .squad-capacity-grid,
            .percentage-grid,
            .results-grid,
            .quick-settings-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 250px;
            }
            
            .quick-settings-grid {
                grid-template-columns: 1fr;
            }
            
            .btn-small {
                width: 100%;
                margin-top: 8px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 8px;
            }
            
            .container {
                padding: 0 3px;
            }
            
            .header {
                margin-bottom: 15px;
            }
            
            .card {
                padding: 10px;
            }
            
            .input-group,
            .percentage-grid,
            .squad-capacity-grid,
            .squads-grid,
            .results-grid {
                gap: 6px;
                margin-bottom: 12px;
            }
            
            .action-buttons {
                gap: 8px;
            }
            
            .btn {
                padding: 8px 16px;
                min-width: 100px;
            }
        }

        /* Mobile-first responsive grid for squad capacities */
        @media (max-width: 360px) {
            .squad-capacity-grid,
            .squads-grid {
                grid-template-columns: 1fr;
            }
            
            .percentage-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ba≈ülƒ±k -->
        <div class="header">
            <h1>Formasyon Hesaplayƒ±cƒ±</h1>
            <p>Ekip sayƒ±sƒ±nƒ± se√ßerek optimal formasyon daƒüƒ±lƒ±mƒ±</p>
        </div>

        <!-- Ana Grid -->
        <div class="main-grid">
            <!-- Sol Taraf - Giri≈üler -->
            <div class="card">
                <h2 class="section-title">üìä Giri≈ü Bilgileri</h2>
                
                <div class="info-box">
                    <strong>‚ÑπÔ∏è Bilgi:</strong> Ekip sayƒ±sƒ±nƒ± se√ßin ve her ekip i√ßin kapasite girin. 
                    Y√ºzdeler her ekibe ayrƒ± ayrƒ± uygulanacaktƒ±r.
                </div>

                <div class="input-group">
                    <label for="squad-count">Ekip Sayƒ±sƒ±:</label>
                    <select id="squad-count">
                        <option value="1">1 Ekip</option>
                        <option value="2">2 Ekip</option>
                        <option value="3">3 Ekip</option>
                        <option value="4">4 Ekip</option>
                        <option value="5">5 Ekip</option>
                        <option value="6">6 Ekip</option>
                        <option value="7">7 Ekip</option>
                        <option value="8" selected>8 Ekip</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="infantry">Mevcut Piyade Sayƒ±sƒ±:</label>
                    <input type="number" id="infantry" placeholder="Piyade sayƒ±sƒ±" min="0">
                </div>

                <div class="input-group">
                    <label for="spearman">Mevcut Mƒ±zrak√ßƒ± Sayƒ±sƒ±:</label>
                    <input type="number" id="spearman" placeholder="Mƒ±zrak√ßƒ± sayƒ±sƒ±" min="0">
                </div>

                <div class="input-group">
                    <label for="archer">Mevcut Ni≈üancƒ± Sayƒ±sƒ±:</label>
                    <input type="number" id="archer" placeholder="Ni≈üancƒ± sayƒ±sƒ±" min="0">
                </div>

                <h3 class="section-title" style="font-size: clamp(1rem, 2.5vw, 1.2rem); margin-top: 20px;">üéØ Formasyon Y√ºzdeleri</h3>
                <div class="percentage-grid">
                    <div class="percentage-item">
                        <label for="infantry-percent">Piyade (%)</label>
                        <input type="number" id="infantry-percent" value="40" min="0" max="100">
                    </div>
                    <div class="percentage-item">
                        <label for="spearman-percent">Mƒ±zrak√ßƒ± (%)</label>
                        <input type="number" id="spearman-percent" value="35" min="0" max="100">
                    </div>
                    <div class="percentage-item">
                        <label for="archer-percent">Ni≈üancƒ± (%)</label>
                        <input type="number" id="archer-percent" value="25" min="0" max="100">
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="calculate-btn">Hesapla</button>
                    <button class="btn btn-secondary" id="reset-btn">Sƒ±fƒ±rla</button>
                </div>
            </div>

            <!-- Saƒü Taraf - Sonu√ßlar -->
            <div class="card">
                <h2 class="section-title">üìà Hesaplama Sonu√ßlarƒ±</h2>
                
                <div class="quick-settings">
                    <div class="quick-settings-title">‚ö° Hƒ±zlƒ± Ayarlar</div>
                    <div class="quick-settings-grid">
                        <div>
                            <label for="quick-capacity">T√ºm Ekiplere Kapasite:</label>
                            <input type="number" id="quick-capacity" placeholder="Kapasite" min="0">
                        </div>
                        <button class="btn-small" id="apply-all-btn">T√ºm√ºne Uygula</button>
                    </div>
                </div>

                <h3 class="section-title" style="font-size: clamp(1rem, 2.5vw, 1.2rem);">üî¢ Ekip Kapasiteleri</h3>
                <div class="squad-capacity-grid" id="squad-capacity-container">
                    <!-- Ekip kapasiteleri JavaScript ile eklenecek -->
                </div>

                <div class="total-capacity-box">
                    Toplam Kapasite: <span id="total-capacity">0</span> asker
                    (<span id="squad-count-display">0</span> ekip)
                </div>

                <h3 class="section-title" style="font-size: clamp(1rem, 2.5vw, 1.2rem);">üõ°Ô∏è Ekip Daƒüƒ±lƒ±mƒ±</h3>
                <div class="squads-grid" id="squads-container">
                    <!-- Ekip bilgileri JavaScript ile eklenecek -->
                </div>

                <h3 class="section-title" style="font-size: clamp(1rem, 2.5vw, 1.2rem);">‚öñÔ∏è Durum Analizi</h3>
                <div class="results-grid">
                    <div class="result-item">
                        <div class="result-label">Piyade Durumu</div>
                        <div class="result-value" id="infantry-status">-</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Mƒ±zrak√ßƒ± Durumu</div>
                        <div class="result-value" id="spearman-status">-</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Ni≈üancƒ± Durumu</div>
                        <div class="result-value" id="archer-status">-</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== DEƒûƒ∞≈ûKENLER ====================
        const defaultSquadCapacities = [1250, 1250, 1250, 1250, 1250, 1250, 1250, 1250];
        let currentSquadCount = 8;
        let savedCapacities = [...defaultSquadCapacities];

        // ==================== YARDIMCI FONKSƒ∞YONLAR ====================
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        function saveCurrentCapacities() {
            savedCapacities = [];
            for (let i = 1; i <= currentSquadCount; i++) {
                const input = document.getElementById(`squad-${i}`);
                if (input) {
                    savedCapacities.push(parseInt(input.value) || 1250);
                }
            }
        }

        function getSavedCapacity(index) {
            if (index < savedCapacities.length) {
                return savedCapacities[index];
            }
            return 1250; // Varsayƒ±lan deƒüer
        }

        // ==================== EKƒ∞P KAPASƒ∞TELERƒ∞Nƒ∞ Y√ñNET ====================
        function updateSquadCount() {
            // √ñnce mevcut deƒüerleri kaydet
            saveCurrentCapacities();
            
            // Yeni ekip sayƒ±sƒ±nƒ± al
            currentSquadCount = parseInt(document.getElementById('squad-count').value);
            
            // Yeni kapasiteleri olu≈ütur
        
