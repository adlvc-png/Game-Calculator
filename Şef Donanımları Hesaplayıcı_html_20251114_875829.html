<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Åef Ekipman YÃ¼kseltmeleri</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body { 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
    background:#f5f7fa; 
    color:#333; 
    margin:0; 
    padding:20px; 
    line-height: 1.6;
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    gap: 20px;
  }

  /* Hamburger MenÃ¼ Stili */
  .hamburger-menu {
    width: 280px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    padding: 20px;
    height: fit-content;
    position: sticky;
    top: 20px;
  }

  .menu-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 3px solid #4CAF50;
    text-align: center;
  }

  .menu-group {
    margin-bottom: 10px;
  }

  .menu-item {
    display: block;
    width: 100%;
    padding: 15px 20px;
    border: none;
    background: #f8f9fa;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    color: #495057;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
    margin-bottom: 8px;
  }

  .menu-item:hover {
    background: #e9ecef;
    transform: translateX(5px);
  }

  .menu-item.active {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
  }

  /* Ä°Ã§erik AlanÄ± */
  .content-area {
    flex: 1;
    min-height: 100vh;
  }

  .calculator-section {
    display: none;
    animation: fadeIn 0.5s ease;
  }

  .calculator-section.active {
    display: block;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Ortak Stiller */
  .language-selector {
    text-align: right;
    margin-bottom: 20px;
  }

  .lang-btn {
    padding: 8px 16px;
    border: 1px solid #ced4da;
    background: white;
    border-radius: 6px;
    cursor: pointer;
    margin-left: 5px;
    transition: all 0.3s ease;
  }

  .lang-btn.active {
    background: #4CAF50;
    color: white;
    border-color: #4CAF50;
  }

  h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 30px;
    font-size: 2.5rem;
  }

  h2 {
    color: #34495e;
    margin: 25px 0 15px 0;
    padding-bottom: 10px;
    border-bottom: 2px solid #e9ecef;
  }

  /* Equipment Sections */
  .equipment-section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 25px;
  }

  .equipment-header {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #dee2e6;
  }

  .equipment-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 10px;
    margin-right: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 1.2rem;
  }

  .equipment-name {
    font-size: 1.4rem;
    font-weight: 600;
    color: #2c3e50;
  }

  .slots-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .slot-group {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border: 2px solid #e9ecef;
  }

  .slot-name {
    font-weight: 600;
    color: #495057;
    margin-bottom: 15px;
    text-align: center;
    font-size: 1.1rem;
  }

  .level-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
  }

  .level-group {
    background: white;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #dee2e6;
  }

  .level-group h4 {
    margin-bottom: 10px;
    color: #495057;
    font-size: 0.9rem;
    text-align: center;
  }

  .level-select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ced4da;
    border-radius: 6px;
    background: white;
    margin-bottom: 8px;
    font-size: 0.9rem;
  }

  /* Bulk Controls */
  .bulk-controls {
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 25px;
    text-align: center;
  }

  .bulk-row {
    display: flex;
    gap: 15px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 15px;
  }

  .bulk-select {
    padding: 10px 15px;
    border: 1px solid #ced4da;
    border-radius: 6px;
    background: white;
    min-width: 150px;
  }

  .action-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 20px;
  }

  /* Materials Section */
  .materials-section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 25px;
  }

  .materials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 20px 0;
  }

  .material-input {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border: 2px solid #e9ecef;
  }

  .material-input label {
    display: block;
    margin-bottom: 10px;
    font-weight: 600;
    color: #495057;
    font-size: 1rem;
  }

  .material-input input {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ced4da;
    border-radius: 6px;
    font-size: 1rem;
  }

  /* Buttons */
  .btn {
    padding: 12px 25px;
    border: none;
    border-radius: 6px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .btn-primary {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
  }

  .btn-secondary {
    background: linear-gradient(135deg, #6c757d, #5a6268);
    color: white;
  }

  .btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(108, 117, 125, 0.3);
  }

  .btn-danger {
    background: linear-gradient(135deg, #dc3545, #c82333);
    color: white;
  }

  .btn-danger:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(220, 53, 69, 0.3);
  }

  /* Results Section */
  .results-section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 25px;
  }

  .excess {
    color: #28a745;
    font-weight: bold;
  }

  .missing {
    color: #dc3545;
    font-weight: bold;
  }

  /* Table */
  table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 20px;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    font-size: 0.9rem;
  }

  th, td {
    border: 1px solid #e0e0e0;
    padding: 10px;
    text-align: center;
  }

  th {
    background-color: #f0f0f0;
    font-weight: 600;
    color: #495057;
    position: sticky;
    top: 0;
  }

  .level-row {
    background: #fafafa;
  }

  .level-row:hover {
    background: #f0f0f0;
  }

  .total-row {
    background: #e3f2fd;
    font-weight: bold;
    font-size: 1rem;
  }

  .total-row td {
    border-top: 2px solid #2196f3;
  }

  .star {
    color: #FFD700;
    font-weight: bold;
  }

  /* Responsive */
  @media screen and (max-width: 768px) {
    .container {
      flex-direction: column;
    }
    
    .hamburger-menu {
      width: 100%;
      position: static;
    }
    
    .bulk-row {
      flex-direction: column;
    }
    
    .bulk-select {
      width: 100%;
    }
    
    .slots-container {
      grid-template-columns: 1fr;
    }
    
    .level-controls {
      grid-template-columns: 1fr;
    }
    
    .materials-grid {
      grid-template-columns: 1fr;
    }
    
    .action-buttons {
      flex-direction: column;
    }
    
    .btn {
      width: 100%;
    }

    table {
      font-size: 0.8rem;
    }

    th, td {
      padding: 6px;
    }
  }
</style>
</head>
<body>

<div class="container">
  <!-- Hamburger MenÃ¼ -->
  <div class="hamburger-menu">
    <div class="menu-title">Åef Ekipman YÃ¼kseltmeleri</div>
    <div class="menu-group">
      <button class="menu-item active" onclick="showCalculator('donanim')">Åef DonanÄ±m YÃ¼kseltmesi</button>
      <button class="menu-item" onclick="showCalculator('tilsim')">Åef TÄ±lsÄ±m YÃ¼kseltmesi</button>
    </div>
  </div>

  <!-- Ä°Ã§erik AlanÄ± -->
  <div class="content-area">
    <!-- Åef DonanÄ±mÄ± HesaplayÄ±cÄ± -->
    <div id="donanim-calc" class="calculator-section active">
      <div class="language-selector">
        <button class="lang-btn active" onclick="changeLanguageDonanim('TR')">TÃ¼rkÃ§e</button>
        <button class="lang-btn" onclick="changeLanguageDonanim('EN')">English</button>
      </div>

      <h1 id="mainTitleDonanim">Åef DonanÄ±mÄ± YÃ¼kseltme HesaplayÄ±cÄ±</h1>
      
      <div class="bulk-controls">
        <h2 id="bulkTitleDonanim">Toplu Seviye AyarlarÄ±</h2>
        <div class="bulk-row">
          <select id="bulkCurrentDonanim" class="bulk-select">
            <option value="">Mevcut Seviye SeÃ§in</option>
          </select>
          <select id="bulkTargetDonanim" class="bulk-select">
            <option value="">Hedef Seviye SeÃ§in</option>
          </select>
          <button class="btn btn-primary" onclick="setBulkLevelsDonanim()" id="setAllBtnDonanim">TÃ¼mÃ¼nÃ¼ AynÄ± Yap</button>
        </div>
        <div class="bulk-row">
          <button class="btn btn-secondary" onclick="setBulkCurrentOnlyDonanim()" id="setCurrentBtnDonanim">Sadece MevcutlarÄ± Ayarla</button>
          <button class="btn btn-secondary" onclick="setBulkTargetOnlyDonanim()" id="setTargetBtnDonanim">Sadece Hedefleri Ayarla</button>
        </div>
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="calculateUpgradeDonanim()" id="calculateBtnDonanim">Hesapla</button>
          <button class="btn btn-secondary" onclick="resetMaterialsDonanim()" id="resetMaterialsBtnDonanim">Malzemeleri SÄ±fÄ±rla</button>
          <button class="btn btn-danger" onclick="resetAllDonanim()" id="resetAllBtnDonanim">TÃ¼mÃ¼nÃ¼ SÄ±fÄ±rla</button>
        </div>
      </div>

      <!-- Ekipmanlar - Sadece 1 mevcut ve 1 hedef seviye -->
      <div class="equipment-section">
        <div class="equipment-header">
          <div class="equipment-icon">âš”ï¸</div>
          <div class="equipment-name" id="mizrakciTitleDonanim">MÄ±zrakÃ§Ä±</div>
        </div>
        <div class="slots-container">
          <div class="slot-group">
            <div class="slot-name" id="sapkaTitleDonanim">Åapka</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle1Donanim">Mevcut Seviye</h4>
                <select class="level-select" id="mizrakci-sapka-current"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle1Donanim">Hedef Seviye</h4>
                <select class="level-select" id="mizrakci-sapka-target"></select>
              </div>
            </div>
          </div>
          <div class="slot-group">
            <div class="slot-name" id="saatTitleDonanim">Saat</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle2Donanim">Mevcut Seviye</h4>
                <select class="level-select" id="mizrakci-saat-current"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle2Donanim">Hedef Seviye</h4>
                <select class="level-select" id="mizrakci-saat-target"></select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="equipment-section">
        <div class="equipment-header">
          <div class="equipment-icon">ğŸ›¡ï¸</div>
          <div class="equipment-name" id="piyadeTitleDonanim">Piyade</div>
        </div>
        <div class="slots-container">
          <div class="slot-group">
            <div class="slot-name" id="paltoTitleDonanim">Palto</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle3Donanim">Mevcut Seviye</h4>
                <select class="level-select" id="piyade-palto-current"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle3Donanim">Hedef Seviye</h4>
                <select class="level-select" id="piyade-palto-target"></select>
              </div>
            </div>
          </div>
          <div class="slot-group">
            <div class="slot-name" id="pantolonTitleDonanim">Pantolon</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle4Donanim">Mevcut Seviye</h4>
                <select class="level-select" id="piyade-pantolon-current"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle4Donanim">Hedef Seviye</h4>
                <select class="level-select" id="piyade-pantolon-target"></select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="equipment-section">
        <div class="equipment-header">
          <div class="equipment-icon">ğŸ¯</div>
          <div class="equipment-name" id="nisanciTitleDonanim">NiÅŸancÄ±</div>
        </div>
        <div class="slots-container">
          <div class="slot-group">
            <div class="slot-name" id="yuzukTitleDonanim">YÃ¼zÃ¼k</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle5Donanim">Mevcut Seviye</h4>
                <select class="level-select" id="nisanci-yuzuk-current"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle5Donanim">Hedef Seviye</h4>
                <select class="level-select" id="nisanci-yuzuk-target"></select>
              </div>
            </div>
          </div>
          <div class="slot-group">
            <div class="slot-name" id="sopaTitleDonanim">Sopa</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle6Donanim">Mevcut Seviye</h4>
                <select class="level-select" id="nisanci-sopa-current"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle6Donanim">Hedef Seviye</h4>
                <select class="level-select" id="nisanci-sopa-target"></select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Malzemeler -->
      <div class="materials-section">
        <h2 id="materialsTitleDonanim">Mevcut Malzemeler</h2>
        <div class="materials-grid">
          <div class="material-input">
            <label for="material1Donanim" id="material1LabelDonanim">Sert AlaÅŸÄ±m:</label>
            <input type="number" id="material1Donanim" value="0" min="0">
          </div>
          <div class="material-input">
            <label for="material2Donanim" id="material2LabelDonanim">Cila Ã‡Ã¶zeltisi:</label>
            <input type="number" id="material2Donanim" value="0" min="0">
          </div>
          <div class="material-input">
            <label for="material3Donanim" id="material3LabelDonanim">TasarÄ±m PlanlarÄ±:</label>
            <input type="number" id="material3Donanim" value="0" min="0">
          </div>
          <div class="material-input">
            <label for="material4Donanim" id="material4LabelDonanim">Amber:</label>
            <input type="number" id="material4Donanim" value="0" min="0">
          </div>
        </div>
      </div>

      <!-- SonuÃ§lar -->
      <div class="results-section" id="resultsSectionDonanim" style="display: none;">
        <h2 id="resultsTitleDonanim">YÃ¼kseltme SonuÃ§larÄ±</h2>
        
        <table>
          <thead>
            <tr>
              <th id="levelHeaderDonanim">Seviye</th>
              <th id="equipmentHeaderDonanim">Ekipman - Slot</th>
              <th id="material1HeaderDonanim">Sert AlaÅŸÄ±m</th>
              <th id="material2HeaderDonanim">Cila Ã‡Ã¶zeltisi</th>
              <th id="material3HeaderDonanim">TasarÄ±m PlanlarÄ±</th>
              <th id="material4HeaderDonanim">Amber</th>
            </tr>
          </thead>
          <tbody id="resultsTableBodyDonanim">
          </tbody>
          <tfoot id="resultsTableFooterDonanim">
          </tfoot>
        </table>
      </div>
    </div>

    <!-- Åef TÄ±lsÄ±mÄ± HesaplayÄ±cÄ± -->
    <div id="tilsim-calc" class="calculator-section">
      <div class="language-selector">
        <button class="lang-btn active" onclick="changeLanguageTilsim('TR')">TÃ¼rkÃ§e</button>
        <button class="lang-btn" onclick="changeLanguageTilsim('EN')">English</button>
      </div>

      <h1 id="mainTitleTilsim">Chief Charm YÃ¼kseltme HesaplayÄ±cÄ±</h1>
      
      <div class="bulk-controls">
        <h2 id="bulkTitleTilsim">Toplu Seviye AyarlarÄ±</h2>
        <div class="bulk-row">
          <select id="bulkCurrentTilsim" class="bulk-select">
            <option value="">Mevcut Seviye SeÃ§in</option>
          </select>
          <select id="bulkTargetTilsim" class="bulk-select">
            <option value="">Hedef Seviye SeÃ§in</option>
          </select>
          <button class="btn btn-primary" onclick="setBulkLevelsTilsim()" id="setAllBtnTilsim">TÃ¼mÃ¼nÃ¼ AynÄ± Yap</button>
        </div>
        <div class="bulk-row">
          <button class="btn btn-secondary" onclick="setBulkCurrentOnlyTilsim()" id="setCurrentBtnTilsim">Sadece MevcutlarÄ± Ayarla</button>
          <button class="btn btn-secondary" onclick="setBulkTargetOnlyTilsim()" id="setTargetBtnTilsim">Sadece Hedefleri Ayarla</button>
        </div>
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="calculateUpgradeTilsim()" id="calculateBtnTilsim">Hesapla</button>
          <button class="btn btn-secondary" onclick="resetMaterialsTilsim()" id="resetMaterialsBtnTilsim">Malzemeleri SÄ±fÄ±rla</button>
          <button class="btn btn-danger" onclick="resetAllTilsim()" id="resetAllBtnTilsim">TÃ¼mÃ¼nÃ¼ SÄ±fÄ±rla</button>
        </div>
      </div>

      <!-- Ekipmanlar -->
      <div class="equipment-section">
        <div class="equipment-header">
          <div class="equipment-icon">âš”ï¸</div>
          <div class="equipment-name" id="mizrakciTitleTilsim">MÄ±zrakÃ§Ä±</div>
        </div>
        <div class="slots-container">
          <div class="slot-group">
            <div class="slot-name" id="sapkaTitleTilsim">Åapka</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle1Tilsim">Mevcut Seviyeler</h4>
                <select class="level-select" id="mizrakci-sapka-current1"></select>
                <select class="level-select" id="mizrakci-sapka-current2"></select>
                <select class="level-select" id="mizrakci-sapka-current3"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle1Tilsim">Hedef Seviyeler</h4>
                <select class="level-select" id="mizrakci-sapka-target1"></select>
                <select class="level-select" id="mizrakci-sapka-target2"></select>
                <select class="level-select" id="mizrakci-sapka-target3"></select>
              </div>
            </div>
          </div>
          <div class="slot-group">
            <div class="slot-name" id="saatTitleTilsim">Saat</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle2Tilsim">Mevcut Seviyeler</h4>
                <select class="level-select" id="mizrakci-saat-current1"></select>
                <select class="level-select" id="mizrakci-saat-current2"></select>
                <select class="level-select" id="mizrakci-saat-current3"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle2Tilsim">Hedef Seviyeler</h4>
                <select class="level-select" id="mizrakci-saat-target1"></select>
                <select class="level-select" id="mizrakci-saat-target2"></select>
                <select class="level-select" id="mizrakci-saat-target3"></select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="equipment-section">
        <div class="equipment-header">
          <div class="equipment-icon">ğŸ›¡ï¸</div>
          <div class="equipment-name" id="piyadeTitleTilsim">Piyade</div>
        </div>
        <div class="slots-container">
          <div class="slot-group">
            <div class="slot-name" id="paltoTitleTilsim">Palto</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle3Tilsim">Mevcut Seviyeler</h4>
                <select class="level-select" id="piyade-palto-current1"></select>
                <select class="level-select" id="piyade-palto-current2"></select>
                <select class="level-select" id="piyade-palto-current3"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle3Tilsim">Hedef Seviyeler</h4>
                <select class="level-select" id="piyade-palto-target1"></select>
                <select class="level-select" id="piyade-palto-target2"></select>
                <select class="level-select" id="piyade-palto-target3"></select>
              </div>
            </div>
          </div>
          <div class="slot-group">
            <div class="slot-name" id="pantolonTitleTilsim">Pantolon</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle4Tilsim">Mevcut Seviyeler</h4>
                <select class="level-select" id="piyade-pantolon-current1"></select>
                <select class="level-select" id="piyade-pantolon-current2"></select>
                <select class="level-select" id="piyade-pantolon-current3"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle4Tilsim">Hedef Seviyeler</h4>
                <select class="level-select" id="piyade-pantolon-target1"></select>
                <select class="level-select" id="piyade-pantolon-target2"></select>
                <select class="level-select" id="piyade-pantolon-target3"></select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="equipment-section">
        <div class="equipment-header">
          <div class="equipment-icon">ğŸ¯</div>
          <div class="equipment-name" id="nisanciTitleTilsim">NiÅŸancÄ±</div>
        </div>
        <div class="slots-container">
          <div class="slot-group">
            <div class="slot-name" id="yuzukTitleTilsim">YÃ¼zÃ¼k</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle5Tilsim">Mevcut Seviyeler</h4>
                <select class="level-select" id="nisanci-yuzuk-current1"></select>
                <select class="level-select" id="nisanci-yuzuk-current2"></select>
                <select class="level-select" id="nisanci-yuzuk-current3"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle5Tilsim">Hedef Seviyeler</h4>
                <select class="level-select" id="nisanci-yuzuk-target1"></select>
                <select class="level-select" id="nisanci-yuzuk-target2"></select>
                <select class="level-select" id="nisanci-yuzuk-target3"></select>
              </div>
            </div>
          </div>
          <div class="slot-group">
            <div class="slot-name" id="sopaTitleTilsim">Sopa</div>
            <div class="level-controls">
              <div class="level-group">
                <h4 id="currentLevelsTitle6Tilsim">Mevcut Seviyeler</h4>
                <select class="level-select" id="nisanci-sopa-current1"></select>
                <select class="level-select" id="nisanci-sopa-current2"></select>
                <select class="level-select" id="nisanci-sopa-current3"></select>
              </div>
              <div class="level-group">
                <h4 id="targetLevelsTitle6Tilsim">Hedef Seviyeler</h4>
                <select class="level-select" id="nisanci-sopa-target1"></select>
                <select class="level-select" id="nisanci-sopa-target2"></select>
                <select class="level-select" id="nisanci-sopa-target3"></select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Malzemeler -->
      <div class="materials-section">
        <h2 id="materialsTitleTilsim">Mevcut Malzemeler</h2>
        <div class="materials-grid">
          <div class="material-input">
            <label for="material1Tilsim" id="material1LabelTilsim">TÄ±lsÄ±m Klavuzu:</label>
            <input type="number" id="material1Tilsim" value="0" min="0">
          </div>
          <div class="material-input">
            <label for="material2Tilsim" id="material2LabelTilsim">TÄ±lsÄ±m TasarÄ±mÄ±:</label>
            <input type="number" id="material2Tilsim" value="0" min="0">
          </div>
          <div class="material-input">
            <label for="material3Tilsim" id="material3LabelTilsim">TÄ±lsÄ±m SÄ±rlarÄ±:</label>
            <input type="number" id="material3Tilsim" value="0" min="0">
          </div>
        </div>
      </div>

      <!-- SonuÃ§lar -->
      <div class="results-section" id="resultsSectionTilsim" style="display: none;">
        <h2 id="resultsTitleTilsim">YÃ¼kseltme SonuÃ§larÄ±</h2>
        
        <table>
          <thead>
            <tr>
              <th id="levelHeaderTilsim">Seviye</th>
              <th id="equipmentHeaderTilsim">Ekipman - Slot</th>
              <th id="material1HeaderTilsim">TÄ±lsÄ±m Klavuzu</th>
              <th id="material2HeaderTilsim">TÄ±lsÄ±m TasarÄ±mÄ±</th>
              <th id="material3HeaderTilsim">TÄ±lsÄ±m SÄ±rlarÄ±</th>
            </tr>
          </thead>
          <tbody id="resultsTableBodyTilsim">
          </tbody>
          <tfoot id="resultsTableFooterTilsim">
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>

<script>
// MenÃ¼ yÃ¶netimi
function showCalculator(type) {
  // TÃ¼m hesaplayÄ±cÄ±larÄ± gizle
  document.querySelectorAll('.calculator-section').forEach(section => {
    section.classList.remove('active');
  });
  
  // TÃ¼m menÃ¼ butonlarÄ±nÄ± pasif yap
  document.querySelectorAll('.menu-item').forEach(button => {
    button.classList.remove('active');
  });
  
  // SeÃ§ilen hesaplayÄ±cÄ±yÄ± gÃ¶ster
  document.getElementById(`${type}-calc`).classList.add('active');
  
  // SeÃ§ilen menÃ¼ butonunu aktif yap
  event.target.classList.add('active');
}

// ==============================================
// ÅEF DONANIMI HESAPLAYICI
// ==============================================

const translationsDonanim = {
  TR: {
    mainTitle: "Åef DonanÄ±mÄ± YÃ¼kseltme HesaplayÄ±cÄ±",
    bulkTitle: "Toplu Seviye AyarlarÄ±",
    selectCurrent: "Mevcut Seviye SeÃ§in",
    selectTarget: "Hedef Seviye SeÃ§in",
    setAllBtn: "TÃ¼mÃ¼nÃ¼ AynÄ± Yap",
    setCurrentBtn: "Sadece MevcutlarÄ± Ayarla",
    setTargetBtn: "Sadece Hedefleri Ayarla",
    calculateBtn: "Hesapla",
    resetMaterialsBtn: "Malzemeleri SÄ±fÄ±rla",
    resetAllBtn: "TÃ¼mÃ¼nÃ¼ SÄ±fÄ±rla",
    mizrakciTitle: "MÄ±zrakÃ§Ä±",
    sapkaTitle: "Åapka",
    saatTitle: "Saat",
    piyadeTitle: "Piyade",
    paltoTitle: "Palto",
    pantolonTitle: "Pantolon",
    nisanciTitle: "NiÅŸancÄ±",
    yuzukTitle: "YÃ¼zÃ¼k",
    sopaTitle: "Sopa",
    currentLevelsTitle: "Mevcut Seviye",
    targetLevelsTitle: "Hedef Seviye",
    materialsTitle: "Mevcut Malzemeler",
    material1Label: "Sert AlaÅŸÄ±m:",
    material2Label: "Cila Ã‡Ã¶zeltisi:",
    material3Label: "TasarÄ±m PlanlarÄ±:",
    material4Label: "Amber:",
    resultsTitle: "YÃ¼kseltme SonuÃ§larÄ±",
    levelHeader: "Seviye",
    equipmentHeader: "Ekipman - Slot",
    material1Header: "Sert AlaÅŸÄ±m",
    material2Header: "Cila Ã‡Ã¶zeltisi",
    material3Header: "TasarÄ±m PlanlarÄ±",
    material4Header: "Amber",
    totalText: "TOPLAM",
    selectOption: "-- SeÃ§iniz --"
  },
  EN: {
    mainTitle: "Chief Gear Upgrade Calculator",
    bulkTitle: "Bulk Level Settings",
    selectCurrent: "Select Current Level",
    selectTarget: "Select Target Level",
    setAllBtn: "Set All Same",
    setCurrentBtn: "Set Current Only",
    setTargetBtn: "Set Target Only",
    calculateBtn: "Calculate",
    resetMaterialsBtn: "Reset Materials",
    resetAllBtn: "Reset All",
    mizrakciTitle: "Lancer",
    sapkaTitle: "Helmet",
    saatTitle: "Watch",
    piyadeTitle: "Infantry",
    paltoTitle: "Coat",
    pantolonTitle: "Pants",
    nisanciTitle: "Marksman",
    yuzukTitle: "Ring",
    sopaTitle: "Stick",
    currentLevelsTitle: "Current Level",
    targetLevelsTitle: "Target Level",
    materialsTitle: "Available Materials",
    material1Label: "Hard Alloy:",
    material2Label: "Polish Solution:",
    material3Label: "Design Plans:",
    material4Label: "Amber:",
    resultsTitle: "Upgrade Results",
    levelHeader: "Level",
    equipmentHeader: "Equipment - Slot",
    material1Header: "Hard Alloy",
    material2Header: "Polish Solution",
    material3Header: "Design Plans",
    material4Header: "Amber",
    totalText: "TOTAL",
    selectOption: "-- Select --"
  }
};

let currentLanguageDonanim = 'TR';

// Åef DonanÄ±mÄ± ekipman verileri
const equipmentDataDonanim = [
  { 
    id: 'mizrakci', 
    name: { TR: 'MÄ±zrakÃ§Ä±', EN: 'Lancer' }, 
    slots: [
      { id: 'sapka', name: { TR: 'Åapka', EN: 'Helmet' } },
      { id: 'saat', name: { TR: 'Saat', EN: 'Watch' } }
    ] 
  },
  { 
    id: 'piyade', 
    name: { TR: 'Piyade', EN: 'Infantry' }, 
    slots: [
      { id: 'palto', name: { TR: 'Palto', EN: 'Coat' } },
      { id: 'pantolon', name: { TR: 'Pantolon', EN: 'Pants' } }
    ] 
  },
  { 
    id: 'nisanci', 
    name: { TR: 'NiÅŸancÄ±', EN: 'Marksman' }, 
    slots: [
      { id: 'yuzuk', name: { TR: 'YÃ¼zÃ¼k', EN: 'Ring' } },
      { id: 'sopa', name: { TR: 'Sopa', EN: 'Stick' } }
    ] 
  }
];

// Åef DonanÄ±mÄ± yÃ¼kseltme maliyetleri
const upgradeCostsDonanim = {
  "yeÅŸil": { material1: 1500, material2: 15, material3: 0, material4: 0 },
  "yeÅŸil-1": { material1: 3800, material2: 40, material3: 0, material4: 0 },
  "mavi": { material1: 7000, material2: 70, material3: 0, material4: 0 },
  "mavi-1": { material1: 9700, material2: 95, material3: 0, material4: 0 },
  "mavi-2": { material1: 0, material2: 0, material3: 45, material4: 0 },
  "mavi-3": { material1: 0, material2: 0, material3: 50, material4: 0 },
  "mor": { material1: 0, material2: 0, material3: 60, material4: 0 },
  "mor-1": { material1: 0, material2: 0, material3: 70, material4: 0 },
  "mor-2": { material1: 6500, material2: 65, material3: 40, material4: 0 },
  "mor-3": { material1: 8000, material2: 80, material3: 50, material4: 0 },
  "mor-T1": { material1: 10000, material2: 95, material3: 60, material4: 0 },
  "mor-T1-1": { material1: 11000, material2: 110, material3: 70, material4: 0 },
  "mor-T1-2": { material1: 13000, material2: 130, material3: 85, material4: 0 },
  "mor-T1-3": { material1: 15000, material2: 160, material3: 100, material4: 0 },
  "altÄ±n": { material1: 22000, material2: 220, material3: 40, material4: 0 },
  "altÄ±n-1": { material1: 23000, material2: 230, material3: 40, material4: 0 },
  "altÄ±n-2": { material1: 25000, material2: 250, material3: 45, material4: 0 },
  "altÄ±n-3": { material1: 26000, material2: 260, material3: 45, material4: 0 },
  "altÄ±n-T1": { material1: 28000, material2: 280, material3: 45, material4: 0 },
  "altÄ±n-T1-1": { material1: 30000, material2: 300, material3: 55, material4: 0 },
  "altÄ±n-T1-2": { material1: 32000, material2: 320, material3: 55, material4: 0 },
  "altÄ±n-T1-3": { material1: 38000, material2: 340, material3: 55, material4: 0 },
  "altÄ±n-T2": { material1: 38000, material2: 360, material3: 55, material4: 0 },
  "altÄ±n-T2-1": { material1: 43000, material2: 430, material3: 75, material4: 0 },
  "altÄ±n-T2-2": { material1: 45000, material2: 460, material3: 80, material4: 0 },
  "altÄ±n-T2-3": { material1: 48000, material2: 500, material3: 85, material4: 0 },
  "kÄ±rmÄ±zÄ±": { material1: 50000, material2: 530, material3: 85, material4: 10 },
  "kÄ±rmÄ±zÄ±-1": { material1: 52000, material2: 560, material3: 90, material4: 10 },
  "kÄ±rmÄ±zÄ±-2": { material1: 54000, material2: 590, material3: 95, material4: 10 },
  "kÄ±rmÄ±zÄ±-3": { material1: 56000, material2: 620, material3: 100, material4: 10 },
  "kÄ±rmÄ±zÄ±-T1": { material1: 59000, material2: 670, material3: 110, material4: 15 },
  "kÄ±rmÄ±zÄ±-T1-1": { material1: 61000, material2: 700, material3: 115, material4: 15 },
  "kÄ±rmÄ±zÄ±-T1-2": { material1: 63000, material2: 730, material3: 120, material4: 15 },
  "kÄ±rmÄ±zÄ±-T1-3": { material1: 65000, material2: 760, material3: 125, material4: 15 },
  "kÄ±rmÄ±zÄ±-T2": { material1: 68000, material2: 810, material3: 135, material4: 20 },
  "kÄ±rmÄ±zÄ±-T2-1": { material1: 70000, material2: 840, material3: 140, material4: 20 },
  "kÄ±rmÄ±zÄ±-T2-2": { material1: 72000, material2: 870, material3: 145, material4: 20 },
  "kÄ±rmÄ±zÄ±-T2-3": { material1: 74000, material2: 900, material3: 150, material4: 20 },
  "kÄ±rmÄ±zÄ±-T3": { material1: 77000, material2: 950, material3: 160, material4: 25 },
  "kÄ±rmÄ±zÄ±-T3-1": { material1: 80000, material2: 990, material3: 165, material4: 25 },
  "kÄ±rmÄ±zÄ±-T3-2": { material1: 83000, material2: 1030, material3: 170, material4: 25 },
  "kÄ±rmÄ±zÄ±-T3-3": { material1: 86000, material2: 1070, material3: 180, material4: 25 },
  "kÄ±rmÄ±zÄ±-T4": { material1: 120000, material2: 1500, material3: 250, material4: 40 },
  "kÄ±rmÄ±zÄ±-T4-1": { material1: 140000, material2: 1650, material3: 275, material4: 40 },
  "kÄ±rmÄ±zÄ±-T4-2": { material1: 160000, material2: 1800, material3: 300, material4: 40 },
  "kÄ±rmÄ±zÄ±-T4-3": { material1: 180000, material2: 1950, material3: 325, material4: 40 }
};

const levelKeysDonanim = Object.keys(upgradeCostsDonanim);

// Åef DonanÄ±mÄ± renk Ã§evirileri
const colorTranslationDonanim = { 
  TR: {"yeÅŸil":"YeÅŸil","mavi":"Mavi","mor":"Mor","altÄ±n":"AltÄ±n","kÄ±rmÄ±zÄ±":"KÄ±rmÄ±zÄ±"},
  EN: {"yeÅŸil":"Green","mavi":"Blue","mor":"Purple","altÄ±n":"Gold","kÄ±rmÄ±zÄ±":"Red"}
};

// Åef DonanÄ±mÄ± seviye isimlerini formatla
function formatLevelNameDonanim(levelKey) {
  const parts = levelKey.split('-');
  let color = parts[0];
  let rest = parts.slice(1).join('-');
  let colorText = colorTranslationDonanim[currentLanguageDonanim][color] || color;
  
  if (rest === '1') return `${colorText} â˜…`;
  if (rest === '2') return `${colorText} â˜…â˜…`;
  if (rest === '3') return `${colorText} â˜…â˜…â˜…`;
  if (rest === 'T1') return `${colorText} T1`;
  if (rest === 'T1-1') return `${colorText} T1 â˜…`;
  if (rest === 'T1-2') return `${colorText} T1 â˜…â˜…`;
  if (rest === 'T1-3') return `${colorText} T1 â˜…â˜…â˜…`;
  if (rest === 'T2') return `${colorText} T2`;
  if (rest === 'T2-1') return `${colorText} T2 â˜…`;
  if (rest === 'T2-2') return `${colorText} T2 â˜…â˜…`;
  if (rest === 'T2-3') return `${colorText} T2 â˜…â˜…â˜…`;
  if (rest === 'T3') return `${colorText} T3`;
  if (rest === 'T3-1') return `${colorText} T3 â˜…`;
  if (rest === 'T3-2') return `${colorText} T3 â˜…â˜…`;
  if (rest === 'T3-3') return `${colorText} T3 â˜…â˜…â˜…`;
  if (rest === 'T4') return `${colorText} T4`;
  if (rest === 'T4-1') return `${colorText} T4 â˜…`;
  if (rest === 'T4-2') return `${colorText} T4 â˜…â˜…`;
  if (rest === 'T4-3') return `${colorText} T4 â˜…â˜…â˜…`;
  
  return colorText + (rest ? '-' + rest : '');
}

// Åef DonanÄ±mÄ± seviye option'larÄ±nÄ± oluÅŸtur
function generateLevelOptionsDonanim() {
  const t = translationsDonanim[currentLanguageDonanim];
  let options = `<option value="">${t.selectOption}</option>`;
  levelKeysDonanim.forEach(key => {
    options += `<option value="${key}">${formatLevelNameDonanim(key)}</option>`;
  });
  return options;
}

// Åef DonanÄ±mÄ± dropdown'larÄ± doldur
function initializeSelectsDonanim() {
  equipmentDataDonanim.forEach(equip => {
    equip.slots.forEach(slot => {
      const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current`);
      const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target`);
      
      if (currentSelect) {
        const currentValue = currentSelect.value;
        currentSelect.innerHTML = generateLevelOptionsDonanim();
        if (currentValue) currentSelect.value = currentValue;
      }
      if (targetSelect) {
        const targetValue = targetSelect.value;
        targetSelect.innerHTML = generateLevelOptionsDonanim();
        if (targetValue) targetSelect.value = targetValue;
      }
    });
  });

  const bulkCurrent = document.getElementById('bulkCurrentDonanim');
  const bulkTarget = document.getElementById('bulkTargetDonanim');
  
  const t = translationsDonanim[currentLanguageDonanim];
  const currentVal = bulkCurrent.value;
  const targetVal = bulkTarget.value;
  
  bulkCurrent.innerHTML = `<option value="">${t.selectCurrent}</option>`;
  bulkTarget.innerHTML = `<option value="">${t.selectTarget}</option>`;
  
  levelKeysDonanim.forEach(key => {
    bulkCurrent.innerHTML += `<option value="${key}">${formatLevelNameDonanim(key)}</option>`;
    bulkTarget.innerHTML += `<option value="${key}">${formatLevelNameDonanim(key)}</option>`;
  });
  
  if (currentVal) bulkCurrent.value = currentVal;
  if (targetVal) bulkTarget.value = targetVal;
}

// Åef DonanÄ±mÄ± dil deÄŸiÅŸtirme
function changeLanguageDonanim(lang) {
  currentLanguageDonanim = lang;
  document.querySelectorAll('#donanim-calc .lang-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
  updateLanguageDonanim();
}

// Åef DonanÄ±mÄ± metinleri gÃ¼ncelle
function updateLanguageDonanim() {
  const t = translationsDonanim[currentLanguageDonanim];
  
  document.getElementById('mainTitleDonanim').textContent = t.mainTitle;
  document.getElementById('bulkTitleDonanim').textContent = t.bulkTitle;
  document.getElementById('materialsTitleDonanim').textContent = t.materialsTitle;
  document.getElementById('resultsTitleDonanim').textContent = t.resultsTitle;
  
  document.getElementById('bulkCurrentDonanim').querySelector('option').textContent = t.selectCurrent;
  document.getElementById('bulkTargetDonanim').querySelector('option').textContent = t.selectTarget;
  
  document.getElementById('setAllBtnDonanim').textContent = t.setAllBtn;
  document.getElementById('setCurrentBtnDonanim').textContent = t.setCurrentBtn;
  document.getElementById('setTargetBtnDonanim').textContent = t.setTargetBtn;
  document.getElementById('calculateBtnDonanim').textContent = t.calculateBtn;
  document.getElementById('resetMaterialsBtnDonanim').textContent = t.resetMaterialsBtn;
  document.getElementById('resetAllBtnDonanim').textContent = t.resetAllBtn;
  
  document.getElementById('mizrakciTitleDonanim').textContent = t.mizrakciTitle;
  document.getElementById('sapkaTitleDonanim').textContent = t.sapkaTitle;
  document.getElementById('saatTitleDonanim').textContent = t.saatTitle;
  document.getElementById('piyadeTitleDonanim').textContent = t.piyadeTitle;
  document.getElementById('paltoTitleDonanim').textContent = t.paltoTitle;
  document.getElementById('pantolonTitleDonanim').textContent = t.pantolonTitle;
  document.getElementById('nisanciTitleDonanim').textContent = t.nisanciTitle;
  document.getElementById('yuzukTitleDonanim').textContent = t.yuzukTitle;
  document.getElementById('sopaTitleDonanim').textContent = t.sopaTitle;
  
  for (let i = 1; i <= 6; i++) {
    document.getElementById(`currentLevelsTitle${i}Donanim`).textContent = t.currentLevelsTitle;
    document.getElementById(`targetLevelsTitle${i}Donanim`).textContent = t.targetLevelsTitle;
  }
  
  document.getElementById('material1LabelDonanim').textContent = t.material1Label;
  document.getElementById('material2LabelDonanim').textContent = t.material2Label;
  document.getElementById('material3LabelDonanim').textContent = t.material3Label;
  document.getElementById('material4LabelDonanim').textContent = t.material4Label;
  
  document.getElementById('levelHeaderDonanim').textContent = t.levelHeader;
  document.getElementById('equipmentHeaderDonanim').textContent = t.equipmentHeader;
  document.getElementById('material1HeaderDonanim').textContent = t.material1Header;
  document.getElementById('material2HeaderDonanim').textContent = t.material2Header;
  document.getElementById('material3HeaderDonanim').textContent = t.material3Header;
  document.getElementById('material4HeaderDonanim').textContent = t.material4Header;
  
  initializeSelectsDonanim();
}

// Åef DonanÄ±mÄ± toplu seviye ayarlama
function setBulkLevelsDonanim() {
  const currentVal = document.getElementById('bulkCurrentDonanim').value;
  const targetVal = document.getElementById('bulkTargetDonanim').value;
  
  if (!currentVal && !targetVal) return;

  equipmentDataDonanim.forEach(equip => {
    equip.slots.forEach(slot => {
      const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current`);
      const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target`);
      
      if (currentVal && currentSelect) currentSelect.value = currentVal;
      if (targetVal && targetSelect) targetSelect.value = targetVal;
    });
  });
}

function setBulkCurrentOnlyDonanim() {
  const currentVal = document.getElementById('bulkCurrentDonanim').value;
  if (!currentVal) return;
  equipmentDataDonanim.forEach(equip => {
    equip.slots.forEach(slot => {
      const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current`);
      if (currentSelect) currentSelect.value = currentVal;
    });
  });
}

function setBulkTargetOnlyDonanim() {
  const targetVal = document.getElementById('bulkTargetDonanim').value;
  if (!targetVal) return;
  equipmentDataDonanim.forEach(equip => {
    equip.slots.forEach(slot => {
      const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target`);
      if (targetSelect) targetSelect.value = targetVal;
    });
  });
}

// Åef DonanÄ±mÄ± malzemeleri sÄ±fÄ±rla
function resetMaterialsDonanim() {
  document.getElementById('material1Donanim').value = 0;
  document.getElementById('material2Donanim').value = 0;
  document.getElementById('material3Donanim').value = 0;
  document.getElementById('material4Donanim').value = 0;
}

// Åef DonanÄ±mÄ± tÃ¼mÃ¼nÃ¼ sÄ±fÄ±rla
function resetAllDonanim() {
  resetMaterialsDonanim();
  initializeSelectsDonanim();
  document.getElementById('resultsSectionDonanim').style.display = 'none';
}

// Åef DonanÄ±mÄ± binlik ayracÄ±
function formatNumberDonanim(num) {
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}

// Åef DonanÄ±mÄ± hesaplama
function calculateUpgradeDonanim() {
  const materials = {
    material1: parseInt(document.getElementById('material1Donanim').value) || 0,
    material2: parseInt(document.getElementById('material2Donanim').value) || 0,
    material3: parseInt(document.getElementById('material3Donanim').value) || 0,
    material4: parseInt(document.getElementById('material4Donanim').value) || 0
  };

  let totalMaterials = { material1: 0, material2: 0, material3: 0, material4: 0 };
  const allUpgrades = [];

  const tableBody = document.getElementById('resultsTableBodyDonanim');
  tableBody.innerHTML = '';

  equipmentDataDonanim.forEach(equip => {
    equip.slots.forEach(slot => {
      const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current`);
      const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target`);
      
      const currentLevel = currentSelect.value;
      const targetLevel = targetSelect.value;
      
      if (currentLevel && targetLevel) {
        const currentIndex = levelKeysDonanim.indexOf(currentLevel);
        const targetIndex = levelKeysDonanim.indexOf(targetLevel);
        
        if (currentIndex < targetIndex) {
          for (let i = currentIndex; i < targetIndex; i++) {
            const levelKey = levelKeysDonanim[i + 1];
            const cost = upgradeCostsDonanim[levelKey];
            if (cost) {
              totalMaterials.material1 += cost.material1;
              totalMaterials.material2 += cost.material2;
              totalMaterials.material3 += cost.material3;
              totalMaterials.material4 += cost.material4;

              allUpgrades.push({
                equipment: `${equip.name[currentLanguageDonanim]} - ${slot.name[currentLanguageDonanim]}`,
                level: formatLevelNameDonanim(levelKey),
                costs: cost
              });
            }
          }
        }
      }
    });
  });

  if (allUpgrades.length === 0) {
    document.getElementById('resultsSectionDonanim').style.display = 'none';
    return;
  }

  allUpgrades.forEach(upgrade => {
    const row = document.createElement('tr');
    row.className = 'level-row';
    row.innerHTML = `
      <td><strong>${upgrade.level}</strong></td>
      <td>${upgrade.equipment}</td>
      <td>${formatNumberDonanim(upgrade.costs.material1)}</td>
      <td>${formatNumberDonanim(upgrade.costs.material2)}</td>
      <td>${formatNumberDonanim(upgrade.costs.material3)}</td>
      <td>${formatNumberDonanim(upgrade.costs.material4)}</td>
    `;
    tableBody.appendChild(row);
  });

  const footer = document.getElementById('resultsTableFooterDonanim');
  footer.innerHTML = '';

  const totalRow = document.createElement('tr');
  totalRow.className = 'total-row';
  
  const materialStatus = {};
  Object.keys(totalMaterials).forEach(mat => {
    const difference = materials[mat] - totalMaterials[mat];
    let displayText = '';
    
    if (difference > 0) {
      displayText = `<span class="excess">+${formatNumberDonanim(difference)}</span>`;
    } else if (difference < 0) {
      displayText = `<span class="missing">-${formatNumberDonanim(Math.abs(difference))}</span>`;
    } else {
      displayText = '0';
    }
    
    materialStatus[mat] = { display: displayText };
  });

  const t = translationsDonanim[currentLanguageDonanim];
  totalRow.innerHTML = `
    <td colspan="2"><strong>${t.totalText}</strong></td>
    <td>
      ${formatNumberDonanim(totalMaterials.material1)}<br>
      <small>${materialStatus.material1.display}</small>
    </td>
    <td>
      ${formatNumberDonanim(totalMaterials.material2)}<br>
      <small>${materialStatus.material2.display}</small>
    </td>
    <td>
      ${formatNumberDonanim(totalMaterials.material3)}<br>
      <small>${materialStatus.material3.display}</small>
    </td>
    <td>
      ${formatNumberDonanim(totalMaterials.material4)}<br>
      <small>${materialStatus.material4.display}</small>
    </td>
  `;
  footer.appendChild(totalRow);

  document.getElementById('resultsSectionDonanim').style.display = 'block';
}

// ==============================================
// ÅEF TILSIMI HESAPLAYICI
// ==============================================

const translationsTilsim = {
  TR: {
    mainTitle: "Chief Charm YÃ¼kseltme HesaplayÄ±cÄ±",
    bulkTitle: "Toplu Seviye AyarlarÄ±",
    selectCurrent: "Mevcut Seviye SeÃ§in",
    selectTarget: "Hedef Seviye SeÃ§in",
    setAllBtn: "TÃ¼mÃ¼nÃ¼ AynÄ± Yap",
    setCurrentBtn: "Sadece MevcutlarÄ± Ayarla",
    setTargetBtn: "Sadece Hedefleri Ayarla",
    calculateBtn: "Hesapla",
    resetMaterialsBtn: "Malzemeleri SÄ±fÄ±rla",
    resetAllBtn: "TÃ¼mÃ¼nÃ¼ SÄ±fÄ±rla",
    mizrakciTitle: "MÄ±zrakÃ§Ä±",
    sapkaTitle: "Åapka",
    saatTitle: "Saat",
    piyadeTitle: "Piyade",
    paltoTitle: "Palto",
    pantolonTitle: "Pantolon",
    nisanciTitle: "NiÅŸancÄ±",
    yuzukTitle: "YÃ¼zÃ¼k",
    sopaTitle: "Sopa",
    currentLevelsTitle: "Mevcut Seviyeler",
    targetLevelsTitle: "Hedef Seviyeler",
    materialsTitle: "Mevcut Malzemeler",
    material1Label: "TÄ±lsÄ±m Klavuzu:",
    material2Label: "TÄ±lsÄ±m TasarÄ±mÄ±:",
    material3Label: "TÄ±lsÄ±m SÄ±rlarÄ±:",
    resultsTitle: "YÃ¼kseltme SonuÃ§larÄ±",
    levelHeader: "Seviye",
    equipmentHeader: "Ekipman - Slot",
    material1Header: "TÄ±lsÄ±m Klavuzu",
    material2Header: "TÄ±lsÄ±m TasarÄ±mÄ±",
    material3Header: "TÄ±lsÄ±m SÄ±rlarÄ±",
    totalText: "TOPLAM",
    selectOption: "-- SeÃ§iniz --",
    levelText: "Seviye"
  },
  EN: {
    mainTitle: "Chief Charm Upgrade Calculator",
    bulkTitle: "Bulk Level Settings",
    selectCurrent: "Select Current Level",
    selectTarget: "Select Target Level",
    setAllBtn: "Set All Same",
    setCurrentBtn: "Set Current Only",
    setTargetBtn: "Set Target Only",
    calculateBtn: "Calculate",
    resetMaterialsBtn: "Reset Materials",
    resetAllBtn: "Reset All",
    mizrakciTitle: "Lancer",
    sapkaTitle: "Helmet",
    saatTitle: "Watch",
    piyadeTitle: "Infantry",
    paltoTitle: "Coat",
    pantolonTitle: "Pants",
    nisanciTitle: "Marksman",
    yuzukTitle: "Ring",
    sopaTitle: "Stick",
    currentLevelsTitle: "Current Levels",
    targetLevelsTitle: "Target Levels",
    materialsTitle: "Available Materials",
    material1Label: "Charm Guide:",
    material2Label: "Charm Design:",
    material3Label: "Charm Secrets:",
    resultsTitle: "Upgrade Results",
    levelHeader: "Level",
    equipmentHeader: "Equipment - Slot",
    material1Header: "Charm Guide",
    material2Header: "Charm Design",
    material3Header: "Charm Secrets",
    totalText: "TOTAL",
    selectOption: "-- Select --",
    levelText: "Level"
  }
};

let currentLanguageTilsim = 'TR';

// Åef TÄ±lsÄ±mÄ± ekipman verileri
const equipmentDataTilsim = [
  { 
    id: 'mizrakci', 
    name: { TR: 'MÄ±zrakÃ§Ä±', EN: 'Lancer' }, 
    slots: [
      { id: 'sapka', name: { TR: 'Åapka', EN: 'Helmet' } },
      { id: 'saat', name: { TR: 'Saat', EN: 'Watch' } }
    ] 
  },
  { 
    id: 'piyade', 
    name: { TR: 'Piyade', EN: 'Infantry' }, 
    slots: [
      { id: 'palto', name: { TR: 'Palto', EN: 'Coat' } },
      { id: 'pantolon', name: { TR: 'Pantolon', EN: 'Pants' } }
    ] 
  },
  { 
    id: 'nisanci', 
    name: { TR: 'NiÅŸancÄ±', EN: 'Marksman' }, 
    slots: [
      { id: 'yuzuk', name: { TR: 'YÃ¼zÃ¼k', EN: 'Ring' } },
      { id: 'sopa', name: { TR: 'Sopa', EN: 'Stick' } }
    ] 
  }
];

// Åef TÄ±lsÄ±mÄ± yÃ¼kseltme maliyetleri
const upgradeCostsTilsim = {
  1: { material1: 5, material2: 5, material3: 0 },
  2: { material1: 40, material2: 15, material3: 0 },
  3: { material1: 60, material2: 40, material3: 0 },
  4: { material1: 80, material2: 100, material3: 0 },
  5: { material1: 100, material2: 200, material3: 0 },
  6: { material1: 120, material2: 300, material3: 0 },
  7: { material1: 140, material2: 400, material3: 0 },
  8: { material1: 200, material2: 400, material3: 0 },
  9: { material1: 300, material2: 400, material3: 0 },
  10: { material1: 420, material2: 420, material3: 0 },
  11: { material1: 560, material2: 420, material3: 0 },
  12: { material1: 580, material2: 450, material3: 15 },
  13: { material1: 580, material2: 450, material3: 30 },
  14: { material1: 600, material2: 500, material3: 45 },
  15: { material1: 600, material2: 500, material3: 70 },
  16: { material1: 650, material2: 550, material3: 100 }
};

// Åef TÄ±lsÄ±mÄ± seviye option'larÄ±nÄ± oluÅŸtur
function generateLevelOptionsTilsim() {
  const t = translationsTilsim[currentLanguageTilsim];
  let options = `<option value="">${t.selectOption}</option>`;
  for (let level = 1; level <= 16; level++) {
    options += `<option value="${level}">${t.levelText} ${level}</option>`;
  }
  return options;
}

// Åef TÄ±lsÄ±mÄ± dropdown'larÄ± doldur
function initializeSelectsTilsim() {
  equipmentDataTilsim.forEach(equip => {
    equip.slots.forEach(slot => {
      for (let i = 1; i <= 3; i++) {
        const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current${i}`);
        const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target${i}`);
        
        if (currentSelect) {
          const currentValue = currentSelect.value;
          currentSelect.innerHTML = generateLevelOptionsTilsim();
          if (currentValue) currentSelect.value = currentValue;
        }
        if (targetSelect) {
          const targetValue = targetSelect.value;
          targetSelect.innerHTML = generateLevelOptionsTilsim();
          if (targetValue) targetSelect.value = targetValue;
        }
      }
    });
  });

  const bulkCurrent = document.getElementById('bulkCurrentTilsim');
  const bulkTarget = document.getElementById('bulkTargetTilsim');
  
  const t = translationsTilsim[currentLanguageTilsim];
  const currentVal = bulkCurrent.value;
  const targetVal = bulkTarget.value;
  
  bulkCurrent.innerHTML = `<option value="">${t.selectCurrent}</option>`;
  bulkTarget.innerHTML = `<option value="">${t.selectTarget}</option>`;
  
  for (let level = 1; level <= 16; level++) {
    bulkCurrent.innerHTML += `<option value="${level}">${t.levelText} ${level}</option>`;
    bulkTarget.innerHTML += `<option value="${level}">${t.levelText} ${level}</option>`;
  }
  
  if (currentVal) bulkCurrent.value = currentVal;
  if (targetVal) bulkTarget.value = targetVal;
}

// Åef TÄ±lsÄ±mÄ± dil deÄŸiÅŸtirme
function changeLanguageTilsim(lang) {
  currentLanguageTilsim = lang;
  document.querySelectorAll('#tilsim-calc .lang-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
  updateLanguageTilsim();
}

// Åef TÄ±lsÄ±mÄ± metinleri gÃ¼ncelle
function updateLanguageTilsim() {
  const t = translationsTilsim[currentLanguageTilsim];
  
  document.getElementById('mainTitleTilsim').textContent = t.mainTitle;
  document.getElementById('bulkTitleTilsim').textContent = t.bulkTitle;
  document.getElementById('materialsTitleTilsim').textContent = t.materialsTitle;
  document.getElementById('resultsTitleTilsim').textContent = t.resultsTitle;
  
  document.getElementById('bulkCurrentTilsim').querySelector('option').textContent = t.selectCurrent;
  document.getElementById('bulkTargetTilsim').querySelector('option').textContent = t.selectTarget;
  
  document.getElementById('setAllBtnTilsim').textContent = t.setAllBtn;
  document.getElementById('setCurrentBtnTilsim').textContent = t.setCurrentBtn;
  document.getElementById('setTargetBtnTilsim').textContent = t.setTargetBtn;
  document.getElementById('calculateBtnTilsim').textContent = t.calculateBtn;
  document.getElementById('resetMaterialsBtnTilsim').textContent = t.resetMaterialsBtn;
  document.getElementById('resetAllBtnTilsim').textContent = t.resetAllBtn;
  
  document.getElementById('mizrakciTitleTilsim').textContent = t.mizrakciTitle;
  document.getElementById('sapkaTitleTilsim').textContent = t.sapkaTitle;
  document.getElementById('saatTitleTilsim').textContent = t.saatTitle;
  document.getElementById('piyadeTitleTilsim').textContent = t.piyadeTitle;
  document.getElementById('paltoTitleTilsim').textContent = t.paltoTitle;
  document.getElementById('pantolonTitleTilsim').textContent = t.pantolonTitle;
  document.getElementById('nisanciTitleTilsim').textContent = t.nisanciTitle;
  document.getElementById('yuzukTitleTilsim').textContent = t.yuzukTitle;
  document.getElementById('sopaTitleTilsim').textContent = t.sopaTitle;
  
  for (let i = 1; i <= 6; i++) {
    document.getElementById(`currentLevelsTitle${i}Tilsim`).textContent = t.currentLevelsTitle;
    document.getElementById(`targetLevelsTitle${i}Tilsim`).textContent = t.targetLevelsTitle;
  }
  
  document.getElementById('material1LabelTilsim').textContent = t.material1Label;
  document.getElementById('material2LabelTilsim').textContent = t.material2Label;
  document.getElementById('material3LabelTilsim').textContent = t.material3Label;
  
  document.getElementById('levelHeaderTilsim').textContent = t.levelHeader;
  document.getElementById('equipmentHeaderTilsim').textContent = t.equipmentHeader;
  document.getElementById('material1HeaderTilsim').textContent = t.material1Header;
  document.getElementById('material2HeaderTilsim').textContent = t.material2Header;
  document.getElementById('material3HeaderTilsim').textContent = t.material3Header;
  
  initializeSelectsTilsim();
}

// Åef TÄ±lsÄ±mÄ± toplu seviye ayarlama
function setBulkLevelsTilsim() {
  const currentVal = document.getElementById('bulkCurrentTilsim').value;
  const targetVal = document.getElementById('bulkTargetTilsim').value;
  
  if (!currentVal && !targetVal) return;

  equipmentDataTilsim.forEach(equip => {
    equip.slots.forEach(slot => {
      for (let i = 1; i <= 3; i++) {
        const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current${i}`);
        const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target${i}`);
        
        if (currentVal && currentSelect) currentSelect.value = currentVal;
        if (targetVal && targetSelect) targetSelect.value = targetVal;
      }
    });
  });
}

function setBulkCurrentOnlyTilsim() {
  const currentVal = document.getElementById('bulkCurrentTilsim').value;
  if (!currentVal) return;
  equipmentDataTilsim.forEach(equip => {
    equip.slots.forEach(slot => {
      for (let i = 1; i <= 3; i++) {
        const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current${i}`);
        if (currentSelect) currentSelect.value = currentVal;
      }
    });
  });
}

function setBulkTargetOnlyTilsim() {
  const targetVal = document.getElementById('bulkTargetTilsim').value;
  if (!targetVal) return;
  equipmentDataTilsim.forEach(equip => {
    equip.slots.forEach(slot => {
      for (let i = 1; i <= 3; i++) {
        const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target${i}`);
        if (targetSelect) targetSelect.value = targetVal;
      }
    });
  });
}

// Åef TÄ±lsÄ±mÄ± malzemeleri sÄ±fÄ±rla
function resetMaterialsTilsim() {
  document.getElementById('material1Tilsim').value = 0;
  document.getElementById('material2Tilsim').value = 0;
  document.getElementById('material3Tilsim').value = 0;
}

// Åef TÄ±lsÄ±mÄ± tÃ¼mÃ¼nÃ¼ sÄ±fÄ±rla
function resetAllTilsim() {
  resetMaterialsTilsim();
  initializeSelectsTilsim();
  document.getElementById('resultsSectionTilsim').style.display = 'none';
}

// Åef TÄ±lsÄ±mÄ± binlik ayracÄ±
function formatNumberTilsim(num) {
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}

// Åef TÄ±lsÄ±mÄ± hesaplama
function calculateUpgradeTilsim() {
  const materials = {
    material1: parseInt(document.getElementById('material1Tilsim').value) || 0,
    material2: parseInt(document.getElementById('material2Tilsim').value) || 0,
    material3: parseInt(document.getElementById('material3Tilsim').value) || 0
  };

  let totalMaterials = { material1: 0, material2: 0, material3: 0 };
  const allUpgrades = [];

  const tableBody = document.getElementById('resultsTableBodyTilsim');
  tableBody.innerHTML = '';

  equipmentDataTilsim.forEach(equip => {
    equip.slots.forEach(slot => {
      for (let slotNum = 1; slotNum <= 3; slotNum++) {
        const currentSelect = document.getElementById(`${equip.id}-${slot.id}-current${slotNum}`);
        const targetSelect = document.getElementById(`${equip.id}-${slot.id}-target${slotNum}`);
        
        const currentLevel = currentSelect.value ? parseInt(currentSelect.value) : 0;
        const targetLevel = targetSelect.value ? parseInt(targetSelect.value) : 0;
        
        if (currentLevel < targetLevel) {
          for (let level = currentLevel + 1; level <= targetLevel; level++) {
            const cost = upgradeCostsTilsim[level];
            if (cost) {
              totalMaterials.material1 += cost.material1;
              totalMaterials.material2 += cost.material2;
              totalMaterials.material3 += cost.material3;

              allUpgrades.push({
                equipment: `${equip.name[currentLanguageTilsim]} - ${slot.name[currentLanguageTilsim]}`,
                slot: `${currentLanguageTilsim === 'TR' ? 'Slot' : 'Slot'} ${slotNum}`,
                level: level,
                costs: cost
              });
            }
          }
        }
      }
    });
  });

  if (allUpgrades.length === 0) {
    document.getElementById('resultsSectionTilsim').style.display = 'none';
    return;
  }

  allUpgrades.sort((a, b) => a.level - b.level);
  
  allUpgrades.forEach(upgrade => {
    const row = document.createElement('tr');
    row.className = 'level-row';
    row.innerHTML = `
      <td><strong>${upgrade.level}</strong></td>
      <td>${upgrade.equipment} - ${upgrade.slot}</td>
      <td>${formatNumberTilsim(upgrade.costs.material1)}</td>
      <td>${formatNumberTilsim(upgrade.costs.material2)}</td>
      <td>${formatNumberTilsim(upgrade.costs.material3)}</td>
    `;
    tableBody.appendChild(row);
  });

  const footer = document.getElementById('resultsTableFooterTilsim');
  footer.innerHTML = '';

  const totalRow = document.createElement('tr');
  totalRow.className = 'total-row';
  
  const materialStatus = {};
  Object.keys(totalMaterials).forEach(mat => {
    const difference = materials[mat] - totalMaterials[mat];
    let displayText = '';
    
    if (difference > 0) {
      displayText = `<span class="excess">+${formatNumberTilsim(difference)}</span>`;
    } else if (difference < 0) {
      displayText = `<span class="missing">-${formatNumberTilsim(Math.abs(difference))}</span>`;
    } else {
      displayText = '0';
    }
    
    materialStatus[mat] = { display: displayText };
  });

  const t = translationsTilsim[currentLanguageTilsim];
  totalRow.innerHTML = `
    <td colspan="2"><strong>${t.totalText}</strong></td>
    <td>
      ${formatNumberTilsim(totalMaterials.material1)}<br>
      <small>${materialStatus.material1.display}</small>
    </td>
    <td>
      ${formatNumberTilsim(totalMaterials.material2)}<br>
      <small>${materialStatus.material2.display}</small>
    </td>
    <td>
      ${formatNumberTilsim(totalMaterials.material3)}<br>
      <small>${materialStatus.material3.display}</small>
    </td>
  `;
  footer.appendChild(totalRow);

  document.getElementById('resultsSectionTilsim').style.display = 'block';
}

// Sayfa yÃ¼klendiÄŸinde baÅŸlat
document.addEventListener('DOMContentLoaded', function() {
  initializeSelectsDonanim();
  initializeSelectsTilsim();
});
</script>

</body>
</html>